<html>
<head>
	<title> LAB1 - Mihajlo Nikodijevic </title>

	<script id="vertex-shader" type="x-shader/x-vertex">
			attribute vec3 vertPosition;
			attribute vec3 vertColor;
			attribute vec3 aNormal;

			uniform mat4 pMatrix;
			uniform mat4 vMatrix;
			uniform mat4 wMatrix;
			uniform mat4 mMatrix;
			uniform mat3 mMatrixInv;
			uniform vec3 aLight;

			varying mediump vec3 fragColor;
			varying mediump vec3 vertNormal;
			varying mediump vec3 lightDir;

			void main() {
				gl_Position = pMatrix * vMatrix * mMatrix *  vec4(vertPosition, 1.0);
				fragColor = vertColor;
				vertNormal = mat3(mMatrixInv) * aNormal;
				lightDir = aLight;
			}

	</script>

	<script id="fragment-shader" type="x-shader/x-fragment">
			precision mediump float;
			varying mediump vec3 fragColor;
            varying mediump vec3 vertNormal;
            varying mediump vec3 lightDir;

			void main() {
                mediump float intensity = max(0.0, -dot(normalize(vertNormal), lightDir));

				gl_FragColor = vec4(fragColor * intensity + fragColor * 0.1, 1.0);
			}

	</script>
</head>

<body onload="Init();">
<h1 style="margin-left:230px;"> Nikodijevic Mihajlo GFX Lab1a/Lab1b </h1>
<canvas id="webgl-canvas" width="900" height="900"></canvas>

<script src="gl-matrix.js"></script>
<script src="initShaders.js"></script>
<script src="global.js"></script>
<script src="sphere.js"></script>
<script src="objects.js"></script>
<script src="main.js"></script>
</body>
</html>
